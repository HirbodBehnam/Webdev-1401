<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dropdown</title>
    <link href="../dist/output.css" rel="stylesheet">
    <script src="../dist/airport-search.js"></script>
    <script>
        function myFocusFunction() {
            document.getElementById("destinationPlaceholderParent").classList.remove("hidden");
        }

        function myBlurFunction() {
            document.getElementById("destinationPlaceholderParent").classList.add("hidden")
        }

        function handleSearch() {
            const airports = airportSearch(document.getElementById("destination").value);
            const placeholder = document.getElementById("destinationPlaceholder");
            placeholder.innerHTML = "";
            airports.forEach(airport => {
                placeholder.innerHTML += `<a href="#"
                               class="text-gray-700 hover:bg-gray-100 hover:text-gray-900 block px-4 py-2 text-sm"
                               role="menuitem" tabindex="-1" id="menu-item-0">${airport}</a>`;
            });
        }
    </script>
</head>
<body class="page-background">
<div class="flex flex-col h-screen items-center">
    <div class="m-auto w-full max-w-sm">
        <div class="bg-white shadow-md rounded pt-2 px-6">
            <form method="post" action="#" class="my-4 pb-4">
                <div class="relative inline-block w-full">
                    <input class="form-textfield w-full py-2 px-3"
                           id="destination" type="text" placeholder="Destination" required dir="ltr"
                           onclick="myFocusFunction()" onblur="myBlurFunction()" oninput="handleSearch()">
                    <div class="absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none hidden"
                         role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1"
                         id="destinationPlaceholderParent">
                        <div class="py-1" role="none" id="destinationPlaceholder">
                            <!-- Content of search bar goes here -->
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <p dir="ltr" class="text-center text-gray-500 text-xs mt-2">
            &copy;2022 Mohebi Corp. All rights reserved.
        </p>
    </div>
</div>
</body>
</html>